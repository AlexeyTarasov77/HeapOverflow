model Question {
  id        Int         @id @default(autoincrement())
  title     String
  body      String
  createdAt DateTime    @default(now())
  updatedAt DateTime    @default(now()) @updatedAt
  authorId  Int
  author    User        @relation(fields: [authorId], references: [id])
  pinnedBy  PinnedQuestion?
  answers    Answer[]
}

model PinnedQuestion {
  questionId     Int      @unique
  pinnedById Int
  pinnedBy   User     @relation(fields: [pinnedById], references: [id])
  question       Question     @relation(fields: [questionId], references: [id])
  createdAt  DateTime @default(now())
  updatedAt  DateTime @default(now()) @updatedAt
}

model Answer {
  id        Int      @id @default(autoincrement())
  questionId    Int
  authorId  Int
  author    User     @relation(fields: [authorId], references: [id])
  question      Question     @relation(fields: [questionId], references: [id])
  body      String
  votes     Int @default(0) // can't be < 0
  updatedAt DateTime @default(now()) @updatedAt
  createdAt DateTime @default(now())
  comments Comment[]
}

model Comment {
    id        Int      @id @default(autoincrement())
    answerId Int
    authorId Int
    author    User     @relation(fields: [authorId], references: [id])
    answer    Answer     @relation(fields: [answerId], references: [id])
}